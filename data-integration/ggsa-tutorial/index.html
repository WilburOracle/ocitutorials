<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="ja" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Oracle GoldenGate Stream Analytics ハンズオン | Oracle Cloud Infrastructure チュートリアル</title>
<meta name="description" content="Oracle GoldenGate Stream Analytics は、IoT データ、パイプライン、ログデータ、ソーシャルメディアといった Stream データをリアルタイムに分析的計算処理するテクノロジーを提供するプラットフォームです。">


  <meta name="author" content="Oracle Japan Solution Engineers">
  
  <meta property="article:author" content="Oracle Japan Solution Engineers">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="ja_JP">
<meta property="og:site_name" content="Oracle Cloud Infrastructure チュートリアル">
<meta property="og:title" content="Oracle GoldenGate Stream Analytics ハンズオン">
<meta property="og:url" content="https://oracle-japan.github.io/ocitutorials/data-integration/ggsa-tutorial/">


  <meta property="og:description" content="Oracle GoldenGate Stream Analytics は、IoT データ、パイプライン、ログデータ、ソーシャルメディアといった Stream データをリアルタイムに分析的計算処理するテクノロジーを提供するプラットフォームです。">



  <meta property="og:image" content="https://oracle-japan.github.io/ocitutorials/assets/images/rh01-cloud-home-pine-background.jpg">





  <meta property="article:published_time" content="2021-09-14T00:00:00+09:00">






<link rel="canonical" href="https://oracle-japan.github.io/ocitutorials/data-integration/ggsa-tutorial/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "https://oracle-japan.github.io/ocitutorials/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/ocitutorials/feed.xml" type="application/atom+xml" rel="alternate" title="Oracle Cloud Infrastructure チュートリアル Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/ocitutorials/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/ocitutorials/"><img src="/ocitutorials/assets/images/social-og-oracle-badge.jpg" alt="OCI チュートリアル"></a>
        
        <a class="site-title" href="/ocitutorials/">
          OCI チュートリアル
          <span class="site-subtitle">Oracle Cloud Infrastructure を使ってみよう</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/ocitutorials/beginners/" title="OCIをはじめて使う人のための基本的なチュートリアル">入門編</a>
            </li><li class="masthead__menu-item">
              <a href="/ocitutorials/intermediates/" title="OCIをもっと活用するためのチュートリアル">応用編</a>
            </li><li class="masthead__menu-item">
              <a href="/ocitutorials/database/" title="Oracle Databaseをクラウドで使うためのチュートリアル">Oracle DB編</a>
            </li><li class="masthead__menu-item">
              <a href="/ocitutorials/cloud-native/" title="OCIで Cloud Nativeなアプリケーション開発を行うためのチュートリアル">Cloud Native編</a>
            </li><li class="masthead__menu-item">
              <a href="/ocitutorials/content-management/" title="OCIのコンテンツ管理サービスを使う人のためのチュートリアル">コンテンツ管理編</a>
            </li><li class="masthead__menu-item">
              <a href="/ocitutorials/blockchain/" title="OCIのコンテンツ管理サービスを使う人のためのチュートリアル">ブロックチェーン編</a>
            </li><li class="masthead__menu-item">
              <a href="/ocitutorials/enterprise/" title="エンタープライズなアプリケーションを構築、運用するためのチュートリアル">エンタープライズ編</a>
            </li><li class="masthead__menu-item">
              <a href="/ocitutorials/integration/" title="OICのチュートリアル">インテグレーション編</a>
            </li><li class="masthead__menu-item">
              <a href="/ocitutorials/datascience/" title="OCIのデータサイエンス/ビッグデータ関連サービスのチュートリアル">データサイエンス/ビッグデータ編</a>
            </li><li class="masthead__menu-item">
              <a href="/ocitutorials/data-integration/" title="OCIのデータインテグレーション関連のチュートリアル">データインテグレーション編</a>
            </li><li class="masthead__menu-item">
              <a href="/ocitutorials/about/">このサイトについて</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">メニュー</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      
  







<div class="page__hero--overlay"
  style=" background-image: url('/ocitutorials/assets/images/rh01-cloud-home-pine-background.jpg');"
>
  
    <div class="wrapper">
      <h1 id="page-title" class="page__title" itemprop="headline">
        
          Oracle GoldenGate Stream Analytics ハンズオン

        
      </h1>
      
        <p class="page__lead">Oracle GoldenGate Stream Analytics は、IoT データ、パイプライン、ログデータ、ソーシャルメディアといった Stream データをリアルタイムに分析的計算処理するテクノロジーを提供するプラットフォームです。
</p>
      
      


      
      
    </div>
  
  
</div>




  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="https://oracle-japan.github.io/ocitutorials/" itemprop="item"><span itemprop="name">ホーム</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">></span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/ocitutorials/data-integration" itemprop="item"><span itemprop="name">Data integration</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">></span>
      
    
      
      
        <li class="current">Oracle GoldenGate Stream Analytics ハンズオン</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">メニュー</label>
  <ul class="nav__items">
    <li>
      
      <a href=""><span class="nav__sub-title">データインテグレーション編</span></a>
      <ul>
        
        
          <p></p><li><a href="/ocitutorials/data-integration/ggsa-tutorial/" class="active">Oracle GoldenGate Stream Analytics ハンズオン</a></li></p>
        
      </ul>
    </li>
  </ul>
</nav>
    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Oracle GoldenGate Stream Analytics ハンズオン">
    <meta itemprop="description" content="Oracle GoldenGate Stream Analytics は、IoT データ、パイプライン、ログデータ、ソーシャルメディアといった Stream データをリアルタイムに分析的計算処理するテクノロジーを提供するプラットフォームです。">
    <meta itemprop="datePublished" content="2021-09-14T00:00:00+09:00">
    

    <div class="page__inner-wrap">
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> 目次</h4></header>
              <ul class="toc__menu"><li><a href="#前提条件">前提条件</a></li><li><a href="#ハンズオン環境の全体像">ハンズオン環境の全体像</a></li><li><a href="#作成する-pipeline-の全体像">作成する Pipeline の全体像</a><ul><li><a href="#1-車両の走行データ">1. 車両の走行データ</a></li><li><a href="#2-atlanta-の地図情報">2. Atlanta の地図情報</a></li><li><a href="#3-地理的境界で絞り込む">3. 地理的境界で絞り込む</a></li><li><a href="#4-平均の速さを元に絞り込む">4. 平均の速さを元に絞り込む</a></li><li><a href="#5-平均の速さを元にラベリングする">5. 平均の速さを元にラベリングする</a></li><li><a href="#6-kafka-に対して-publish">6. Kafka に対して publish</a></li></ul></li><li><a href="#1-marketplace-からインスタンスのプロビジョニング">1. Marketplace からインスタンスのプロビジョニング</a></li><li><a href="#2-チュートリアルに使用するコンテンツのダウンロード">2. チュートリアルに使用するコンテンツのダウンロード</a></li><li><a href="#3-チュートリアル">3. チュートリアル</a><ul><li><a href="#3-1-チュートリアル用のイベントストリームを-kafka-に-publish-する">3-1. チュートリアル用のイベント・ストリームを Kafka に Publish する</a></li><li><a href="#3-2-ggsa-で-kafka-の-connection-を定義する">3-2. GGSA で Kafka の Connection を定義する</a></li><li><a href="#3-3-stream-の作成">3-3. Stream の作成</a></li><li><a href="#3-4-geo-fence-の作成">3-4. Geo Fence の作成</a></li><li><a href="#3-5-pipeline-の作成">3-5. Pipeline の作成</a></li><li><a href="#3-6-atlanta-の車両に限定する">3-6. Atlanta の車両に限定する</a></li><li><a href="#3-7-止まっている車両をストリームデータから除外する">3-7. 止まっている車両をストリームデータから除外する</a></li><li><a href="#3-8-リアルタイム分析のためのルールを作成する">3-8. リアルタイム分析のためのルールを作成する</a><ul><li><a href="#1-全ての-highway-に対して名前を設定する">1. 全ての Highway に対して名前を設定する</a></li><li><a href="#2-60--avgspeed-の場合violation-を-reckless-に設定する">2. 60 &lt; AvgSpeed の場合、Violation を RECKLESS に設定する</a></li><li><a href="#3-45--avgspeed--60-の場合violation-を-major-に設定する">3. 45 &lt; AvgSpeed ≤ 60 の場合、Violation を MAJOR に設定する</a></li><li><a href="#4-35--avgspeed--45-の場合violation-を-minor-に設定する">4. 35 &lt; AvgSpeed ≤ 45 の場合、Violation を MINOR に設定する</a></li></ul></li><li><a href="#3-9-得られた分析結果を表示する">3-9. 得られた分析結果を表示する</a><ul><li><a href="#1-ラベリングrecklessmajorminorした車両データを-atlanta-の地図上に表示する">1. ラベリング(RECKLESS/MAJOR/MINOR)した車両データを Atlanta の地図上に表示する</a></li><li><a href="#2-highway-毎の平均の速さを表示する">2. Highway 毎の平均の速さを表示する</a></li></ul></li><li><a href="#3-10-target-の作成">3-10. Target の作成</a></li><li><a href="#3-11-pipeline-の-publish">3-11. Pipeline の Publish</a></li><li><a href="#3-12-参考-publish-されたメッセージを確認する">3-12. (参考) Publish されたメッセージを確認する</a></li></ul></li></ul>

            </nav>
          </aside>
        
        <p>Oracle GoldenGate Stream Analytics(以下、GGSA) は、IoT データ、パイプライン、ログデータ、ソーシャルメディアといった Stream データをリアルタイムに分析的計算処理するテクノロジーを提供するプラットフォームです。</p>

<p>このエントリーでは、GGSA の Marketplace からのプロビジョニングからチュートリアル完了までの手順を記します。</p>

<h1 id="前提条件">前提条件</h1>

<ul>
  <li>クラウド環境
    <ul>
      <li>Oracle Cloud のアカウントを取得済みであること</li>
    </ul>
  </li>
</ul>

<h1 id="ハンズオン環境の全体像">ハンズオン環境の全体像</h1>

<p>OCI Marketplace から GGSA を最小構成でプロビジョニングすると、以下の環境が作成されます。本エントリーでは、この環境を用いてハンズオンを実施します。</p>

<p><img src="architecture.png" alt="architecture" /></p>

<h1 id="作成する-pipeline-の全体像">作成する Pipeline の全体像</h1>

<p>このエントリーでは、リアルタイムに流れてくる交通データを分析することを行います。最終的に完成する Pipeline は以下のようになります。</p>

<p><img src="pipeline.png" alt="pipeline" /></p>

<p>それぞれの Stage で実施されることについて簡単に説明します。</p>

<h2 id="1-車両の走行データ">1. 車両の走行データ</h2>

<p>リアルタイムに流れてくる交通データを Java プログラムで疑似的に表現しています。Java プログラム中では、Kafka の特定 Topic(tutorial)に対してメッセージを publish しており、本ハンズオンは該当の Topic から GGSA がメッセージを consume する所から始まります。</p>

<p>関連するハンズオンの章:</p>

<ul>
  <li><a href="#3-1-チュートリアル用のイベントストリームを-kafka-に-publish-する">3-1. チュートリアル用のイベント・ストリームを Kafka に Publish する</a></li>
  <li><a href="#3-2-ggsa-で-kafka-の-connection-を定義する">3-2. GGSA で Kafka の Connection を定義する</a></li>
  <li><a href="#3-3-stream-の作成">3-3. Stream の作成</a></li>
</ul>

<h2 id="2-atlanta-の地図情報">2. Atlanta の地図情報</h2>

<p>使用するデータには、アメリカ全土の交通データが含まれています。今回は、その中でも Atlanta の交通データに絞り込んで分析を行うために、地理的な境界を定義します。</p>

<p>関連するハンズオンの章:</p>

<ul>
  <li><a href="#3-4-geo-fence-の作成">3-4. Geo Fence の作成</a></li>
</ul>

<h2 id="3-地理的境界で絞り込む">3. 地理的境界で絞り込む</h2>

<p><a href="#2-atlanta-の地図情報">2. Atlanta の地図情報</a>で定義した地理的境界に含まれるデータを入力データの緯度・経度を元に判定し、Atlanta 内の交通データに絞り込みを行います。</p>

<p>関連するハンズオンの章:</p>

<ul>
  <li><a href="#3-6-atlanta-の車両に限定する">3-6. Atlanta の車両に限定する</a></li>
</ul>

<h2 id="4-平均の速さを元に絞り込む">4. 平均の速さを元に絞り込む</h2>

<p>以降のステージでは、動いている車両に対して分析を行うため、その前処理として止まっている車両をストリームデータから取り除きます。</p>

<p>関連するハンズオンの章:</p>

<ul>
  <li><a href="#3-7-止まっている車両をストリームデータから除外する">3-7. 止まっている車両をストリームデータから除外する</a></li>
</ul>

<h2 id="5-平均の速さを元にラベリングする">5. 平均の速さを元にラベリングする</h2>

<p>動いている車両に対して、いくつかのルールを設定しその判定結果に応じてラベリング、結果の可視化を行います。</p>

<p>関連するハンズオンの章:</p>

<ul>
  <li><a href="#3-8-リアルタイム分析のためのルールを作成する">3-8. リアルタイム分析のためのルールを作成する</a></li>
</ul>

<h2 id="6-kafka-に対して-publish">6. Kafka に対して publish</h2>

<p>パイプライン処理が完了したデータを別のサービスで活用するために Kafka に publish します。</p>

<p>関連するハンズオンの章:</p>

<ul>
  <li><a href="#3-10-target-の作成">3-10. Target の作成</a></li>
  <li><a href="#3-11-pipeline-の-publish">3-11. Pipeline の Publish</a></li>
  <li><a href="#3-12-参考-publish-されたメッセージを確認する">3-12. (参考) Publish されたメッセージを確認する</a></li>
</ul>

<h1 id="1-marketplace-からインスタンスのプロビジョニング">1. Marketplace からインスタンスのプロビジョニング</h1>

<p>はじめに、OCI コンソール画面左上のハンバーガーメニューを展開し、<strong>マーケットプレイス</strong> &gt; <strong>すべてのアプリケーション</strong> と選択します。</p>

<p><img src="image01.png" alt="image01" /></p>

<p>アプリケーションの一覧画面で、検索窓に<strong>Stream Analytics</strong>と入力し、<strong>Oracle GoldenGate Stream Analytics - UCM</strong> を選択します。</p>

<p><img src="image02.png" alt="image02" /></p>

<p><strong>Oracle 使用条件を確認し上でこれに同意します。</strong>にチェックを入れた後に、<strong>スタックの起動</strong>をクリックします。</p>

<p><img src="image03.png" alt="image03" /></p>

<p>自動入力された項目を確認し、<strong>次</strong>をクリックします。</p>

<p><img src="image04.png" alt="image04" /></p>

<p>作成するインスタンスに関する情報を入力します。</p>

<ul>
  <li>Display Name: 任意の名前</li>
  <li>Host DNS Name(オプション): ggsa</li>
</ul>

<p><img src="image05.png" alt="image05" /></p>

<p>インスタンスが属するネットワークに関する設定を入力します。</p>

<ul>
  <li>Use Existing Network: チェックを外す</li>
  <li>VCN Network Compartment(オプション): 任意のコンパートメント名</li>
  <li>Subnet Network Compartment(オプション): 任意のコンパートメント名(VCN Network Compartment と同様のコンパートメント名)</li>
  <li>New VCN DNS Name: vcn</li>
  <li>New VCN CIDR: 10.2.0.0/16</li>
  <li>New Subnet DNS Name(オプション): subnet</li>
  <li>New Subnet CIDR: 10.2.1.0/24</li>
</ul>

<p><img src="image06.png" alt="image06" /></p>

<p>インスタンスに関する情報を入力します。</p>

<ul>
  <li>Availability Domain: 任意の AD を選択</li>
  <li>Compute Shape: VM.Standard2.4</li>
  <li>Assign Public IP: チェックを入れる</li>
</ul>

<p><img src="image07.png" alt="image07" /></p>

<p>インスタンスに SSH アクセスするための公開鍵を入力します。</p>

<p><img src="image08.png" alt="image08" /></p>

<p><strong>次</strong>をクリックした後に、入力内容を確認して、<strong>作成</strong>を押します。</p>

<p><img src="image09.png" alt="image09" /></p>

<p>リソース・マネージャーのジョブの状態が成功となっていれば、インスタンスのプロビジョニングは完了です。</p>

<p><img src="image10.png" alt="image10" /></p>

<h1 id="2-チュートリアルに使用するコンテンツのダウンロード">2. チュートリアルに使用するコンテンツのダウンロード</h1>

<p>任意の SSH クライアントを使用して、作成したインスタンスに SSH 接続します。また、以降の流れはドキュメントで公開されている GGSA の<a href="https://www.oracle.com/webfolder/technetwork/tutorials/obe/cloud/ic/streaminganalytics/monitor_public_transport/creating_artifacts/creating_artifacts_for_your_analytics_application.html">チュートリアル</a>の内容に準拠しています。</p>

<p>まずは、チュートリアルに使用するコンテンツを任意のディレクトリにダウンロードし、展開します。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># download tutorial contents</span>
wget http://www.oracle.com/technetwork/middleware/complex-event-processing/learnmore/resourcesfortutorials-4015265.zip

<span class="c"># extract the zip</span>
unzip resourcesfortutorials-4015265.zip <span class="nt">-d</span> resources
</code></pre></div></div>

<p>展開した先のディレクトリには以下のコンテンツが含まれています。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ls </span>resources/
BusEvents.json  OsacsEventFeeder.jar  SalesTransactions.json  suppliers.sql
</code></pre></div></div>

<h1 id="3-チュートリアル">3. チュートリアル</h1>

<h2 id="3-1-チュートリアル用のイベントストリームを-kafka-に-publish-する">3-1. チュートリアル用のイベント・ストリームを Kafka に Publish する</h2>

<p>まずは、チュートリアル用の Topic を作成します。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$KAFKA_HOME</span>/bin/kafka-topics.sh <span class="nt">--create</span> <span class="nt">--zookeeper</span> localhost:2181 <span class="nt">--partitions</span> 5 <span class="nt">--replication-factor</span> 1 <span class="nt">--topic</span> tutorial
Created topic <span class="s2">"tutorial"</span><span class="nb">.</span>
</code></pre></div></div>

<p>次にダウンロードしたコンテンツに含まれる Java プログラムを使用して、作成した Topic に対してデータを送信します。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>java <span class="nt">-jar</span> OsacsEventFeeder.jar <span class="nt">--zookeeper</span> localhost:2181 <span class="nt">--json</span> BusEvents.json <span class="nt">--topic</span> tutorial
log4j:WARN No appenders could be found <span class="k">for </span>logger <span class="o">(</span>org.apache.zookeeper.ZooKeeper<span class="o">)</span><span class="nb">.</span>
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig <span class="k">for </span>more info.
REQUEST: <span class="o">{</span> <span class="s2">"BUSdirection"</span> : <span class="s2">"Southbound"</span>, <span class="s2">"BUStime"</span> : <span class="s2">"2016-12-02T10:48:55.000Z"</span>, <span class="s2">"BUStimePoint"</span> : <span class="s2">"Fulton Industrial &amp; MLK"</span>, <span class="s2">"BUSroute"</span> : 73, <span class="s2">"BUSstopId"</span> : 905269, <span class="s2">"BUStripId"</span> : 5326786, <span class="s2">"BUSvehicle_type"</span> : 25, <span class="s2">"BUStype_ID"</span> : 30, <span class="s2">"BUSlong"</span> : <span class="nt">-84</span>.5376211, <span class="s2">"BUSlat"</span> : 33.7609777, <span class="s2">"Bus_Speed"</span> : 0, <span class="s2">"Bus_DriverNo"</span> : 160019, <span class="s2">"Bus_Hwy"</span> : <span class="s2">"HWY66"</span> <span class="o">}</span>

// ...

REQUEST: <span class="o">{</span> <span class="s2">"BUSdirection"</span> : <span class="s2">"Southbound"</span>, <span class="s2">"BUStime"</span> : <span class="s2">"2016-12-02T10:50:37.000Z"</span>, <span class="s2">"BUStimePoint"</span> : <span class="s2">"Roswell &amp; Hammond"</span>, <span class="s2">"BUSroute"</span> : 5, <span class="s2">"BUSstopId"</span> : 902751, <span class="s2">"BUStripId"</span> : 5339304, <span class="s2">"BUSvehicle_type"</span> : 15, <span class="s2">"BUStype_ID"</span> : 65, <span class="s2">"BUSlong"</span> : <span class="nt">-84</span>.3805816, <span class="s2">"BUSlat"</span> : 33.8599981, <span class="s2">"Bus_Speed"</span> : 0, <span class="s2">"Bus_DriverNo"</span> : 0, <span class="s2">"Bus_Hwy"</span> : <span class="s2">"HWY66"</span> <span class="o">}</span>

RESPONSE: Topic: tutorial, Offset: 1

// ...
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">REQUEST: { "BUSdirection" : "Southbound", "BUStime" : "2016-12-02T10:50:37.000Z", "BUStimePoint" : "Roswell &amp; Hammond", "BUSroute" : 5, "BUSstopId" : 902751, "BUStripId" : 5339304, "BUSvehicle_type" : 15, "BUStype_ID" : 65, "BUSlong" : -84.3805816, "BUSlat" : 33.8599981, "Bus_Speed" : 0, "Bus_DriverNo" : 0, "Bus_Hwy" : "HWY66" }</code> のような文字列が出力されれば、Kafka に対するデータの送信が成功しています。</p>

<h2 id="3-2-ggsa-で-kafka-の-connection-を定義する">3-2. GGSA で Kafka の Connection を定義する</h2>

<p>ログインしたユーザー(opc)のホームディレクトリに<code class="language-plaintext highlighter-rouge">README.txt</code>というファイルが存在し、こちらに各種接続情報が記載されています。</p>

<pre><code class="language-txt">###### Database

Your root password for MySQL metadata store is FKUXONKoVkqkVFer4PS/

Your OSA_DEMO user password for MySQL 'OSA_DEMO' database is Welcome123!

Your OSA user password for MySQL osa metadata store (OSADB database) is w_R/ARVFDWjoGxzHTPyp


###### VCN SECURITY RULES

To access OSA and Spark UIs from the internet via HTTPS, set up stateless ingress rules to port 443.

###### OSA UI

Your osaadmin  password to login to OSA UI is 3ZtwM5srOAE=

You can access OSA UI using https://&lt;PUBLIC_IP&gt;/osa

###### OSA RUNTIME

Access Spark UI using https://&lt;PUBLIC_IP&gt;/spark

List of well known ports...

KAFKA BROKER PORTS (9092) ZOOKEEPER PORT (2181)
MYSQL PORT (3306)

###### SPARK DEFAULT USER CREDENTIALS

Username: sparkadmin
Password: Sparkadmin#123

###### CHANGING PASSWORDS

Use System Settings in OSA UI to change the OSA Admin password.
Use System Settings in OSA UI to set Spark admin user name and password.
Use mysql -uroot -p to change MySQL root user password.

</code></pre>

<p>ここからの作業は、OSA(Oracle Stream Analytics)の Web UI にて実施するため、<code class="language-plaintext highlighter-rouge">https://&lt;PUBLIC_IP&gt;/osa</code>へアクセスします。アクセスすると、以下のような画面が表示されるので、<code class="language-plaintext highlighter-rouge">README.txt</code>に記載のあるユーザー名/パスワードの組み合わせでログインします。(上記の例だと、osaadmin/3ZtwM5srOAE=)</p>

<p><img src="image11.png" alt="image11" /></p>

<p>ログイン後に、<strong>Catalog</strong> &gt; <strong>Create New Item</strong> &gt; <strong>Connection</strong> &gt; <strong>Kafka</strong>と押し、Kafka の接続情報を定義します。</p>

<p><img src="image12.png" alt="image12" /></p>

<p>以下のように入力し、<strong>Next &gt;</strong>をクリックします。</p>

<ul>
  <li>Name: Tutorial</li>
  <li>Tag(オプション): tutorial, transport</li>
  <li>Connection Type: Kafka</li>
</ul>

<p><img src="image13.png" alt="image13" /></p>

<p>Kafka の接続情報を以下のように入力します。</p>

<ul>
  <li>Zookeepers: localhost:2181</li>
</ul>

<p><strong>Test Connection</strong>のボタンをクリックし、<code class="language-plaintext highlighter-rouge">Successful</code>と表示されれば、GGSA と Kafka の接続は成功しているので、<strong>Save</strong>を押して、設定を保存します。</p>

<p><img src="image14.png" alt="image14" /></p>

<h2 id="3-3-stream-の作成">3-3. Stream の作成</h2>

<p><strong>Catalog</strong> &gt; <strong>Create New Item</strong> &gt; <strong>Stream</strong> &gt; <strong>Kafka</strong> とクリックし、Stream を新規に作成します。</p>

<p><img src="image15.png" alt="image15" /></p>

<p>以下のように入力して、<strong>Next &gt;</strong>をクリックします。</p>

<ul>
  <li>Name: Tutorial</li>
  <li>Tags(オプション): tutorial, transport</li>
  <li>Stream Type: Kafka</li>
</ul>

<p><img src="image16.png" alt="image16" /></p>

<p>Stream を構築するために必要な情報を入力し、<strong>Next &gt;</strong>をクリックします。</p>

<ul>
  <li>Connection: tutorial</li>
  <li>Topic name: tutorial</li>
  <li>Data Format: JSON</li>
</ul>

<p><img src="image17.png" alt="image17" /></p>

<p><strong>Allow missing column names</strong>にチェックを入れて、<strong>Next &gt;</strong>をクリックします。</p>

<p><img src="image18.png" alt="image18" /></p>

<p><strong>Save</strong>を押し、Stream の構成情報を保存します。</p>

<p><img src="image19.png" alt="image19" /></p>

<h2 id="3-4-geo-fence-の作成">3-4. Geo Fence の作成</h2>

<p>車両情報を特定のエリア(今回は、Atlanta)に限定するために、その境界を定義します。 <strong>Catalog</strong> &gt; <strong>Create New Item</strong> &gt; <strong>Geo Fence</strong>とクリックし、Geo Fence を新規に作成します。</p>

<p><img src="image20.png" alt="image20" /></p>

<p>以下のように入力し、<strong>Save</strong>をクリックします。</p>

<ul>
  <li>Name: Tutorial</li>
  <li>Tags(オプション): tutorial, transport</li>
  <li>Geo Fence Type: Manually Created Geo Fence</li>
</ul>

<p><img src="image21.png" alt="image21" /></p>

<p><strong>Save</strong>をクリックすると、世界地図が表示されるので、Atlanta の周囲を Polygon tool を用いて、以下のように囲います。また、入力項目は以下のように入力します。</p>

<ul>
  <li>Name: Atlanta</li>
  <li>Description: Monitor public buses transport in Atlanta.</li>
</ul>

<p><img src="image22.png" alt="image22" /></p>

<p>これで、Geo Fence の作成は完了です。</p>

<h2 id="3-5-pipeline-の作成">3-5. Pipeline の作成</h2>

<p>次に、車両データをリアルタイムに分析するための Pipeline を作成します。 <strong>Catalog</strong> &gt; <strong>Create New Item</strong> &gt; <strong>Pipeline</strong>とクリックし、パイプラインを新規に作成します。</p>

<p><img src="image23.png" alt="image23" /></p>

<p>以下のように入力し、パイプラインを作成します。</p>

<ul>
  <li>Name: Tutorial</li>
  <li>Description(オプション): Tutorial: Vehicle Monitoring Pipeline.</li>
  <li>Tags(オプション): tutorial, transport</li>
  <li>Stream: Tutorial</li>
</ul>

<p><img src="image24.png" alt="image24" /></p>

<p>作成が完了すると、以下のようにパイプラインが作成され、Kafka に対して Publish されているストリームデータを参照することができます。</p>

<p><img src="image25.png" alt="image25" /></p>

<h2 id="3-6-atlanta-の車両に限定する">3-6. Atlanta の車両に限定する</h2>

<p>送信され続けている車両の情報を Atlanta の車両に限定したいと思います。Tutorial を右クリックし、<strong>Add a Stage</strong> &gt; <strong>Pattern</strong>と選択します。</p>

<p><img src="image26.png" alt="image26" /></p>

<p><strong>Spatial</strong>の下の<strong>Geo Filter</strong>を選択します。</p>

<p><img src="image27.png" alt="image27" /></p>

<p>以下のように入力し、Stage を作成します。</p>

<ul>
  <li>Name: PatternGeoFenceInside</li>
  <li>Description(オプション): Spatial analytics in the city of Atlanta.</li>
</ul>

<p><img src="image28.png" alt="image28" /></p>

<p>適切に設定できていると、先ほど作成した Geo Fence 内の車両がマップに表示されるようになります。</p>

<p><img src="image30.png" alt="image30" /></p>

<h2 id="3-7-止まっている車両をストリームデータから除外する">3-7. 止まっている車両をストリームデータから除外する</h2>

<p>Atlanta の車両情報のストリームデータから止まっている車両データを除外したいと思います。PatternGeoFenceInside を右クリックし、<strong>Add a Stage</strong> &gt; <strong>Query</strong> を選択します。</p>

<p><img src="image31.png" alt="image31" /></p>

<p>以下のように入力し、Query Stage を作成します。</p>

<ul>
  <li>Name: BusSpeed0Plus</li>
  <li>Description(オプション): Analytics only on moving vehicles.</li>
</ul>

<p><img src="image32.png" alt="image32" /></p>

<p>まずは、止まっている車両をストリームデータから除外するために以下のようなフィルター処理を追加します。</p>

<ul>
  <li>Macth All にチェック</li>
  <li>フィルターの条件として、<code class="language-plaintext highlighter-rouge">Bus_Speed greater than 0</code>を入力</li>
</ul>

<p><img src="image33.png" alt="image33" /></p>

<p>また、止まっているかどうかの判断は、瞬間的な速さではなく、ある一定時間の平均の速さ(今回は、10 秒間の平均の速さ)を元に判断するため、<strong>Sources</strong>で時計マークをクリックし、以下のように入力します。</p>

<ul>
  <li>
    <p>Windows Type: Time, with Slide</p>
  </li>
  <li>Range: 10 seconds</li>
  <li>Evaluation frequency: 10 seconds</li>
</ul>

<p><img src="image34.png" alt="image34" /></p>

<p>次に、<strong>Summaries</strong>で集約処理を加えます。</p>

<ul>
  <li><strong>Retain All Columns</strong> のボタンをクリック</li>
  <li><strong>Add a GroupBy</strong> &gt; <strong>Add a Filed</strong> を押し、<strong>BUStripId</strong>を選択します。</li>
</ul>

<p><img src="image35.png" alt="image35" /></p>

<p><strong>Add a Summary</strong>を押し、以下のように入力します。</p>

<ul>
  <li>function: AVG</li>
  <li>filed: Bus_Speed</li>
</ul>

<p><img src="image36.png" alt="image36" /></p>

<p>次に、Expression Builder を押し、NO_VIOLATION と入力します。</p>

<p><img src="image37.png" alt="image37" /></p>

<p>最後に、Live Output 内のプロパティ名を以下のように変更します。</p>

<ul>
  <li>BusType_ID → BusID</li>
  <li>AVG_of_Bus_Speed → AvgSpeed</li>
  <li>calc → Violation</li>
</ul>

<p><img src="image38.png" alt="image38" /></p>

<h2 id="3-8-リアルタイム分析のためのルールを作成する">3-8. リアルタイム分析のためのルールを作成する</h2>

<p>ここまでで分析に必要なデータの加工や作成は完了していため、実際の分析ルールを作成していきます。具体的には、平均の速さを元に以下のようなルールを作成します。</p>

<ol>
  <li>
    <p>全ての Highway に対して名前を設定する(空白の Highway に対しては、<code class="language-plaintext highlighter-rouge">UNKNOWN</code>という名前を設定する)</p>
  </li>
  <li>
    <p>60 &lt; AvgSpeed の場合、Violation を RECKLESS に設定する</p>
  </li>
  <li>
    <p>45 &lt; AvgSpeed ≤ 60 の場合、Violation を MAJOR に設定する</p>
  </li>
  <li>
    <p>35 &lt; AvgSpeed ≤ 45 の場合、Violation を MINOR に設定する</p>
  </li>
</ol>

<p>それでは、作成していきます。まずは、<strong>BusSpeed0Plus</strong>で右クリックをし、<strong>Add a Stage</strong> &gt; <strong>Rule</strong>を選択します。</p>

<h3 id="1-全ての-highway-に対して名前を設定する">1. 全ての Highway に対して名前を設定する</h3>

<p>まずは、<strong>Add a Rule</strong>をクリックし、以下のようにルールを作成します。</p>

<ul>
  <li>Rule Name: DFLT_HWY</li>
  <li>Description(オプション): Ensure all highways have a name value.</li>
</ul>

<p>そして、すべての Highway に対して名前を持たせる(空白を許容しない)ために、以下のようなルールを設定します。</p>

<ul>
  <li>IF: <code class="language-plaintext highlighter-rouge">Bus_Hwy equals(sensitive) &lt;blank&gt;</code></li>
  <li>THEN: <code class="language-plaintext highlighter-rouge">SET Bus_Hwy TO UNKNOWN</code></li>
</ul>

<p><img src="image39.png" alt="image39" /></p>

<h3 id="2-60--avgspeed-の場合violation-を-reckless-に設定する">2. 60 &lt; AvgSpeed の場合、Violation を RECKLESS に設定する</h3>

<p>次に、10 秒間の平均の速さが 60[km/h]を超えている車両に対して、<code class="language-plaintext highlighter-rouge">RECKLESS</code>というラベルを設定したいと思います。</p>

<p><strong>Add a Rule</strong>をクリックし、以下のようにルールを作成します。</p>

<ul>
  <li>Rule Name: RECKLESS</li>
  <li>Description(オプション): Bus drivers traveling at excessive speed.</li>
</ul>

<p>そして、平均の速さが 60[km/h]を超えている車両を検出するために以下のようなルールを設定します。</p>

<ul>
  <li>IF: <code class="language-plaintext highlighter-rouge">AvgSpeed greater than 60</code></li>
  <li>THEN: <code class="language-plaintext highlighter-rouge">SET Violation TO RECKLESS</code></li>
</ul>

<p><img src="image40.png" alt="image40" /></p>

<h3 id="3-45--avgspeed--60-の場合violation-を-major-に設定する">3. 45 &lt; AvgSpeed ≤ 60 の場合、Violation を MAJOR に設定する</h3>

<p>次に、10 秒間の平均の速さが 45[km/h]より速く、60[km/h]以下の車両に対して、<code class="language-plaintext highlighter-rouge">MAJOR</code>というラベルを設定したいと思います。</p>

<p><strong>Add a Rule</strong>をクリックし、以下のようにルールを作成します。</p>

<ul>
  <li>Rule Name: MAJOR</li>
  <li>Description(オプション): Bus drivers traveling at high speeds.</li>
</ul>

<p>そして、平均の速さが 45[km/h]より速く、60[km/h]以下の車両を検出するために以下のようなルールを設定します。</p>

<ul>
  <li>IF: <code class="language-plaintext highlighter-rouge">AvgSpeed greater than 45 AND AvgSpeed lower than or equals 60</code></li>
  <li>THEN: <code class="language-plaintext highlighter-rouge">SET Violation TO MAJOR</code></li>
</ul>

<p><img src="image41.png" alt="image41" /></p>

<h3 id="4-35--avgspeed--45-の場合violation-を-minor-に設定する">4. 35 &lt; AvgSpeed ≤ 45 の場合、Violation を MINOR に設定する</h3>

<p>次に、10 秒間の平均の速さが 35[km/h]より速く、45[km/h]以下の車両に対して、<code class="language-plaintext highlighter-rouge">MINOR</code>というラベルを設定したいと思います。</p>

<p><strong>Add a Rule</strong>をクリックし、以下のようにルールを作成します。</p>

<ul>
  <li>Rule Name: MINOR</li>
  <li>Description(オプション): Bus drivers traveling at low speeds.</li>
</ul>

<p>そして、平均の速さが 35[km/h]より速く、45[km/h]以下の車両を検出するために以下のようなルールを設定します。</p>

<ul>
  <li>IF: <code class="language-plaintext highlighter-rouge">AvgSpeed greater than 35 AND AvgSpeed lower than or equals 45</code></li>
  <li>THEN: <code class="language-plaintext highlighter-rouge">SET Violation TO MINOR</code></li>
</ul>

<p><img src="image42.png" alt="image42" /></p>

<p>1~4 のルールの設定が完了すると、以下のような Live Output(一例)が得られます。</p>

<p><img src="image43.png" alt="image43" /></p>

<h2 id="3-9-得られた分析結果を表示する">3-9. 得られた分析結果を表示する</h2>

<p>先ほどまでで、いくつかのビジネスルールを設定しストリームデータの分析を実施したため、次はそのデータを表示してみたいと思います。具体的には、以下のようなデータを表示したいと思います。</p>

<ol>
  <li>ラベリング(RECKLESS/MAJOR/MINOR)した車両データを Atlanta の地図上に表示する</li>
  <li>Highway 毎の平均の速さを表示する</li>
</ol>

<h3 id="1-ラベリングrecklessmajorminorした車両データを-atlanta-の地図上に表示する">1. ラベリング(RECKLESS/MAJOR/MINOR)した車両データを Atlanta の地図上に表示する</h3>

<p>それでは、作成していきます。Speed Violation の<strong>Visualizations</strong>タブから”+”アイコン(Add a Visualization)を押し、ドロップダウンの中から<strong>Geo Spatial</strong>を選択します。</p>

<p><img src="image44.png" alt="image44" /></p>

<p><strong>Properties</strong>にて、以下のように入力します。</p>

<ul>
  <li>Name: Driver Monitor</li>
  <li>Description(オプション): Spatial Analytics for Vehicles in the Atlanta District.</li>
  <li>Tags(オプション): transport, tutorial</li>
  <li>Lat: BUSlat</li>
  <li>Long: BUSlong</li>
  <li>Key: BUStripId</li>
</ul>

<p><img src="image45.png" alt="image45" /></p>

<p>次に、<strong>Customizations</strong>で以下のように入力します。</p>

<table>
  <thead>
    <tr>
      <th>Field</th>
      <th>Operator</th>
      <th>Value</th>
      <th>Style</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Violation</td>
      <td>equals</td>
      <td>RECKLESS</td>
      <td>Orange arrow</td>
    </tr>
    <tr>
      <td>Violation</td>
      <td>equals</td>
      <td>MAJOR</td>
      <td>Purple arrow</td>
    </tr>
    <tr>
      <td>Violation</td>
      <td>equals</td>
      <td>MINOR</td>
      <td>Blue arrow</td>
    </tr>
  </tbody>
</table>

<p><img src="image46.png" alt="image46" /></p>

<p><strong>Create</strong>を押すと、以下のようにラベリングされた車両情報が Atlanta 上に表示されていることが確認することができます。</p>

<p><img src="image47.png" alt="image47" /></p>

<h3 id="2-highway-毎の平均の速さを表示する">2. Highway 毎の平均の速さを表示する</h3>

<p>次に、Highway 毎の車両の平均の速さを棒グラフで表示したいと思います。Speed Violation の<strong>Visualizations</strong>タブから”+”アイコン(Add a Visualization)を押し、ドロップダウンの中から<strong>Bar</strong>を選択します。</p>

<p><img src="image48.png" alt="image48" /></p>

<p>以下のように入力します。</p>

<ul>
  <li>Name: CongestionPoints</li>
  <li>Description(オプション): Provide a HWY view of activity.</li>
  <li>Tags(オプション): transport, tutorial</li>
  <li>Y Axis Field Selection: AvgSpeed</li>
  <li>Axis Label(オプション): SpeedKMH</li>
  <li>X Axis Field Selection: Bus_Hwy</li>
  <li>Axis Label(オプション): HWY</li>
</ul>

<p><img src="image49.png" alt="image49" /></p>

<p>正しく設定できていれば、Highway 毎の車両の平均の速さが以下のように表示されます。</p>

<p><img src="image50.png" alt="image50" /></p>

<h2 id="3-10-target-の作成">3-10. Target の作成</h2>

<p>ストリーム処理の結果を外部に出力するための Target を定義します。SpeedViolation で右クリックし、<strong>Add a Stage</strong> &gt; <strong>Target</strong>と押し、以下のように入力します。</p>

<ul>
  <li>Name: TutorialTarget</li>
</ul>

<p><img src="image51.png" alt="image51" /></p>

<p><strong>Create</strong>を押し、以下のように入力して、Target を定義します。</p>

<ul>
  <li>Name: Tutorial</li>
  <li>Tags(オプション): tutorial, transport</li>
  <li>Type: Kafka</li>
  <li>Connection: tutorial</li>
  <li>Topic name: Tutorial</li>
  <li>Data Format: JSON</li>
  <li>Create nested json object にチェック</li>
</ul>

<p>Shape は以下のように設定します。</p>

<table>
  <thead>
    <tr>
      <th>Field Name</th>
      <th>Field Path</th>
      <th>Field Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Violation</td>
      <td>Violation</td>
      <td>Text</td>
    </tr>
    <tr>
      <td>DriverNumber</td>
      <td>Number</td>
      <td>Integer</td>
    </tr>
    <tr>
      <td>DriverNumber</td>
      <td>Number</td>
      <td>Integer</td>
    </tr>
    <tr>
      <td>Highway</td>
      <td>Bus_HWY</td>
      <td>Text</td>
    </tr>
  </tbody>
</table>

<p><img src="image52.png" alt="image52" /></p>

<p><img src="image53.png" alt="image53" /></p>

<p><img src="image54.png" alt="image54" /></p>

<p><img src="image55.png" alt="image55" /></p>

<p>Live Output が以下のように表示されれば、完了です。</p>

<p><img src="image56.png" alt="image56" /></p>

<h2 id="3-11-pipeline-の-publish">3-11. Pipeline の Publish</h2>

<p>作成した Pipeline を Publish します。<strong>Publish</strong>を押し、以下のように入力します。</p>

<ul>
  <li>Batch Duration: 1000 (Milliseconds)</li>
  <li>Executor Count: 2</li>
  <li>Cores per Executor: 2</li>
  <li>Executor Memory: 3000 (Megabytes)</li>
  <li>Cores per Driver: 1</li>
  <li>Driver Memory: 1800 (Megabytes)</li>
  <li>Log level: INFO</li>
  <li>Pipeline Topic Retention: 3600000 (Milliseconds)</li>
  <li>Enable Pipeline Topics にチェック</li>
  <li>Input Topics Offset: latest</li>
</ul>

<p><strong>Publish</strong>をクリックし、Catalog 画面で作成した Pipeline の Status が Running となっていれば完了です。</p>

<p><img src="image57.png" alt="image57" /></p>

<h2 id="3-12-参考-publish-されたメッセージを確認する">3-12. (参考) Publish されたメッセージを確認する</h2>

<p>トピックの一覧を確認すると、GGSA の UI 上で作成した Topic(Tutorial)が含まれていることが確認できます。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$KAFKA_HOME</span>/bin/kafka-topics.sh <span class="nt">--list</span> <span class="nt">--zookeeper</span> localhost:2181
Tutorial // GGSAのUI上で作成したTopic
__consumer_offsets
sx_Tutorial_BusSpeed0Plus_draft
sx_Tutorial_BusSpeed0Plus_public
sx_Tutorial_PatternGeoFenceInside_draft
sx_Tutorial_PatternGeoFenceInside_public
sx_Tutorial_SpeedViolation_draft
sx_Tutorial_SpeedViolation_public
sx_Tutorial_TutorialTarget_draft
sx_Tutorial_TutorialTarget_public
sx_Tutorial_Tutorial_draft
sx_Tutorial_Tutorial_public
sx_Tutorial_public_1_Tutorial_offset
sx_backend_notification_zIHBNqNV
sx_messages_zIHBNqNV
tutorial
</code></pre></div></div>

<p>パイプライン処理が完了した後のデータを取得する場合は、この Topic(Tutorial)からメッセージを取得すればよいことになります。本ハンズオンでは、簡易的に Kafka に付属しているコンソール用の Consumer を用いて確認します。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$KAFKA_HOME</span>/bin/kafka-console-consumer.sh <span class="nt">--bootstrap-server</span> localhost:9092 <span class="nt">--topic</span> Tutorial
<span class="o">{</span><span class="s2">"Violation"</span>:<span class="s2">"NO_VIOLATION"</span>,<span class="s2">"AvgSpeed"</span>:30.0,<span class="s2">"DriverNumber"</span>:14734483,<span class="s2">"Highway"</span>:<span class="s2">"HWY66"</span><span class="o">}</span>
<span class="o">{</span><span class="s2">"Violation"</span>:<span class="s2">"NO_VIOLATION"</span>,<span class="s2">"AvgSpeed"</span>:21.0,<span class="s2">"DriverNumber"</span>:1.1E+2,<span class="s2">"Highway"</span>:<span class="s2">"HWY66"</span><span class="o">}</span>
<span class="o">{</span><span class="s2">"Violation"</span>:<span class="s2">"MAJOR"</span>,<span class="s2">"AvgSpeed"</span>:59.0,<span class="s2">"DriverNumber"</span>:2760439,<span class="s2">"Highway"</span>:<span class="s2">"MR665"</span><span class="o">}</span>
<span class="o">{</span><span class="s2">"Violation"</span>:<span class="s2">"RECKLESS"</span>,<span class="s2">"AvgSpeed"</span>:96.0,<span class="s2">"DriverNumber"</span>:13241,<span class="s2">"Highway"</span>:<span class="s2">"M2   "</span><span class="o">}</span>
<span class="o">{</span><span class="s2">"Violation"</span>:<span class="s2">"MINOR"</span>,<span class="s2">"AvgSpeed"</span>:37.0,<span class="s2">"DriverNumber"</span>:13217,<span class="s2">"Highway"</span>:<span class="s2">"HWY66"</span><span class="o">}</span>
<span class="o">{</span><span class="s2">"Violation"</span>:<span class="s2">"MAJOR"</span>,<span class="s2">"AvgSpeed"</span>:53.0,<span class="s2">"DriverNumber"</span>:0,<span class="s2">"Highway"</span>:<span class="s2">"MR335"</span><span class="o">}</span>
<span class="o">{</span><span class="s2">"Violation"</span>:<span class="s2">"MINOR"</span>,<span class="s2">"AvgSpeed"</span>:39.0,<span class="s2">"DriverNumber"</span>:13599829,<span class="s2">"Highway"</span>:<span class="s2">"MR599"</span><span class="o">}</span>
<span class="o">{</span><span class="s2">"Violation"</span>:<span class="s2">"NO_VIOLATION"</span>,<span class="s2">"AvgSpeed"</span>:12.0,<span class="s2">"DriverNumber"</span>:710352,<span class="s2">"Highway"</span>:<span class="s2">"HWY66"</span><span class="o">}</span>
<span class="o">{</span><span class="s2">"Violation"</span>:<span class="s2">"NO_VIOLATION"</span>,<span class="s2">"AvgSpeed"</span>:35.0,<span class="s2">"DriverNumber"</span>:1859124,<span class="s2">"Highway"</span>:<span class="s2">"HWY66"</span><span class="o">}</span>
<span class="o">{</span><span class="s2">"Violation"</span>:<span class="s2">"MAJOR"</span>,<span class="s2">"AvgSpeed"</span>:53.0,<span class="s2">"DriverNumber"</span>:12671,<span class="s2">"Highway"</span>:<span class="s2">"HWY66"</span><span class="o">}</span>
<span class="o">{</span><span class="s2">"Violation"</span>:<span class="s2">"NO_VIOLATION"</span>,<span class="s2">"AvgSpeed"</span>:35.0,<span class="s2">"DriverNumber"</span>:1843334,<span class="s2">"Highway"</span>:<span class="s2">"HWY66"</span><span class="o">}</span>
<span class="o">{</span><span class="s2">"Violation"</span>:<span class="s2">"NO_VIOLATION"</span>,<span class="s2">"AvgSpeed"</span>:5.0,<span class="s2">"DriverNumber"</span>:5848648,<span class="s2">"Highway"</span>:<span class="s2">"HWY66"</span><span class="o">}</span>
<span class="o">{</span><span class="s2">"Violation"</span>:<span class="s2">"NO_VIOLATION"</span>,<span class="s2">"AvgSpeed"</span>:3.0,<span class="s2">"DriverNumber"</span>:5.83806E+6,<span class="s2">"Highway"</span>:<span class="s2">"HWY66"</span><span class="o">}</span>
<span class="o">{</span><span class="s2">"Violation"</span>:<span class="s2">"NO_VIOLATION"</span>,<span class="s2">"AvgSpeed"</span>:25.0,<span class="s2">"DriverNumber"</span>:4757146,<span class="s2">"Highway"</span>:<span class="s2">"HWY66"</span><span class="o">}</span>
<span class="o">{</span><span class="s2">"Violation"</span>:<span class="s2">"NO_VIOLATION"</span>,<span class="s2">"AvgSpeed"</span>:31.0,<span class="s2">"DriverNumber"</span>:1856674,<span class="s2">"Highway"</span>:<span class="s2">"HWY66"</span><span class="o">}</span>
...
</code></pre></div></div>

<p>確かに、GGSA の UI 上で確認できるデータと同じものが取得できることが確認できます。また、GGSA では、Target として Kafka 以外にも</p>

<ul>
  <li>Database</li>
  <li>Elasticsearch</li>
  <li>JMS</li>
  <li>MongoDB</li>
  <li>OCI Notification</li>
  <li>REST</li>
  <li>…</li>
</ul>

<p>と様々な Target が用意されています。</p>

<p>これで、GGSA のチュートリアルは完了です。お疲れ様でした！</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> タグ: </strong>
    <span itemprop="keywords">
    
      <a href="/ocitutorials/tags/#ggsa" class="page__taxonomy-item" rel="tag">ggsa</a>
    
    </span>
  </p>




        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> 更新日時:</strong> <time datetime="2021-09-14T00:00:00+09:00">September 14, 2021</time></p>


      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">共有</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Oracle+GoldenGate+Stream+Analytics+%E3%83%8F%E3%83%B3%E3%82%BA%E3%82%AA%E3%83%B3%20https%3A%2F%2Foracle-japan.github.io%2Focitutorials%2Fdata-integration%2Fggsa-tutorial%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="共有 Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Foracle-japan.github.io%2Focitutorials%2Fdata-integration%2Fggsa-tutorial%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="共有 Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Foracle-japan.github.io%2Focitutorials%2Fdata-integration%2Fggsa-tutorial%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="共有 LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">関連記事</h4>
      <div class="grid__wrapper">
        
      </div>
    </div>
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="検索キーワードを入力してください..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>フォロー</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/#ocijp" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/oracle-japan" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    
      <li><a href="/ocitutorials/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2021 Oracle Cloud Infrastructure チュートリアル. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/ocitutorials/assets/js/main.min.js"></script>




<script src="/ocitutorials/assets/js/lunr/lunr.min.js"></script>
<script src="/ocitutorials/assets/js/lunr/lunr-store.js"></script>
<script src="/ocitutorials/assets/js/lunr/lunr-en.js"></script>




  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6W7FEC5CEH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-6W7FEC5CEH', { 'anonymize_ip': false});
</script>







  
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
  
    <script src="/ocitutorials/assets/js/clipboardrouge.js"></script>
  



  </body>
</html>
